# 运营活动测试过程中的注意点


## 1. 除活动持续时间外，活动一定不能生效

* “双倍经验/烈火币” 活动时间为 2019-01-01 8:00:00 ~ 2019-01-02 23:59:59，那么，2019-01-01 7:00:00 和 2019-01-03 00:01:00 两个时间点一定不能获得双倍加成

* “周免球员” 活动时间为 2019-01-01 8:00:00 ~ 2019-01-02 23:59:59，那么，2019-01-01 7:00:00 和 2019-01-03 00:01:00 两个时间点，“活动” icon 上一定不能出现 “周免球员” 活动产生的红点提示

---

## 2. 活动详情的准确性 / 合理性

* “累计登录” 的活动详情中提到奖励为潜能材料，而下方的奖励列表为徽章碎片（杜绝！）

* 详情的描述需要合情合理，与具体的活动内容相符。若活动出现新内容，则详情需要实时更新

---

## 3. 客户端配表和服务器配表必须一致

* 不能出现客户端显示的奖励和服务器实际下发的奖励不一致的情况

    * “累计登录” 的某一天奖励显示为 100 钻石，则领取的时候，实际获得的必须是 100 钻石，不能是 200 钻石

* 如果出现需要更改线上活动奖励的情况，推荐的做法是：先更新**服务器**，再更新**客户端**

---

## 4. 活动时间不受玩家的设备时间影响

* 玩家更改设备的时间，不能影响活动的正常运行 (活动需完全依靠服务器时间)

    * 若当前服务器时间的活动已关闭，则玩家更改设备时间至活动开启时间，活动仍需处于关闭状态

---

## 5. 玩家活动数据的初始化时机

* 有些活动必须进入活动界面才能完成任务，有些活动则不需要进入活动页面就能完成任务。

* 一般情况下，玩家第一次进入活动界面时，服务器会初始化一次活动进度数据。之后，玩家完成一个任务时，就会在初始化之后的数据上进行操作

* 然而，如果活动开启后，玩家不进入活动界面，直接完成任务，那么 **更新玩家进度之前，必须要有初始化活动数据的操作**，否则可能会造成玩家数据错乱的情况

    * “九宫格” 活动中有若干任务，活动开启后，若玩家不打开活动界面，直接完成任务，其活动数据(Redis数据)必须正确。

---

## 6. 活动复用

* 需要多次开启的活动必须保证复用的正确性

* 检查复用的正确性 -> 检查上次活动的玩家数据对本次活动的影响

* 一般情况下，玩家的活动数据中会专门记录一个时间戳，用来表示本次的活动时间。

* 所以在第一次活动开启时，构造一些活动数据，再将活动数据中的时间戳改成活动开始时间之前的任意值，然后重新登录即可检查活动复用的正确性

* 对于需要复用的活动，需要注意 **活动结束后，玩家的活动数据是否会更新**

    * 通常情况下，在下次活动开启之前，该数据会不再更新

    * 如果在下次活动开启之前，该数据会被更新，则需要验证这种更新是否会对下次活动产生影响 (具体影响视具体的活动逻辑而定)